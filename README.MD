# Simulation SD-WAN Avanc√©e avec √âquilibrage de Charge

## üéØ Objectif du Projet

Cette simulation d√©montre l'√©quilibrage de charge intelligent dans un r√©seau **SD-WAN** (Software-Defined Wide Area Network) en utilisant **Mininet** et **Ryu Controller**. Le projet impl√©mente un algorithme de **Weighted Round-Robin** avec prise en compte de multiples crit√®res (latence, bande passante, priorit√©).

## üèóÔ∏è Architecture de la Simulation

### Topologie R√©seau
```
Branch A (3 h√¥tes)          Branch B (3 h√¥tes)
    h1-a, h2-a, h3-a           h1-b, h2-b, h3-b
         |                           |
        s1 ======================= s2
         |                           |
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îê
    ‚îÇ         ‚îÇ         ‚îÇ            ‚îÇ
   s3        s4        s5            ‚îÇ
  MPLS      Fiber      4G            ‚îÇ
 5ms/20Mb  10ms/100Mb  50ms/10Mb     ‚îÇ
    ‚îÇ         ‚îÇ         ‚îÇ            ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Chemins WAN Simul√©s
- **MPLS** : Haute priorit√©, faible latence (5ms), 20 Mbps, Poids: 3
- **Fiber** : Haute bande passante (100 Mbps), latence moyenne (10ms), Poids: 2  
- **4G** : Backup, haute latence (50ms), 10 Mbps, Poids: 1

## üöÄ Fonctionnalit√©s

### √âquilibrage de Charge Intelligent
- **Weighted Round-Robin** bas√© sur les poids configur√©s
- Prise en compte du type de trafic (web, vid√©o, VoIP, data)
- R√©partition automatique selon les performances des liens

### Types de Trafic Simul√©s
- **Web** : TCP, 2 Mbps, trafic en rafales
- **Vid√©o** : UDP, 8 Mbps, continu
- **VoIP** : UDP, 64 Kbps, continu, priorit√© haute
- **Data** : TCP, 5 Mbps, transfert en bloc

### Monitoring et Visualisation
- Logs d√©taill√©s en temps r√©el
- Statistiques JSON horodat√©es
- Graphiques automatiques de performance
- Analyse d'efficacit√© de l'√©quilibrage

## üìä M√©triques et Analyses

### Graphiques G√©n√©r√©s
1. **R√©partition du trafic** : Diagramme circulaire par chemin WAN
2. **√âvolution temporelle** : Courbes de flux dans le temps
3. **Comparaison r√©el vs th√©orique** : Histogrammes d'efficacit√©
4. **Caract√©ristiques des liens** : Bande passante et latence
5. **Timeline cumulative** : √âvolution des flux cumul√©s
6. **Tableau de bord statistique** : R√©sum√© de performance

### M√©triques Calcul√©es
- Nombre total de flux par chemin
- Pourcentage de r√©partition r√©elle vs th√©orique
- Efficacit√© de l'algorithme d'√©quilibrage
- D√©bit moyen par minute
- Respect des poids configur√©s

## üõ†Ô∏è Installation et Pr√©requis

### Syst√®me Requis
- Ubuntu 18.04+ (ou distribution Linux similaire)
- Python 3.6+
- Droits administrateur (sudo)

### Installation des D√©pendances

```bash
# Mise √† jour du syst√®me
sudo apt update && sudo apt upgrade -y

# Installation des paquets syst√®me
sudo apt install -y python3-pip python3-dev build-essential

# Installation de Mininet
git clone https://github.com/mininet/mininet.git
cd mininet
sudo ./util/install.sh -a
cd ..

# Installation de Ryu Controller
sudo pip3 install ryu

# Installation des d√©pendances Python
pip3 install -r requirements.txt
```

### V√©rification de l'Installation

```bash
# Test Mininet
sudo mn --test pingall

# Test Ryu
ryu-manager --version

# Test des biblioth√®ques Python
python3 -c "import numpy, matplotlib; print('‚úì D√©pendances OK')"
```

## üèÉ‚Äç‚ôÇÔ∏è Utilisation

### 1. D√©marrage du Contr√¥leur

```bash
# Terminal 1 - Lancement du contr√¥leur Ryu
ryu-manager ryu_sdwan_controller.py
```

Attendez le message de confirmation :
```
loading app ryu_sdwan_controller
instantiated app ryu_sdwan_controller
```

### 2. Lancement de la Simulation

```bash
# Terminal 2 - Simulation Mininet (avec sudo)
sudo python3 sdwan_mininet_simulation.py
```

### 3. Contr√¥le de la Simulation

- **D√©marrage automatique** : La simulation d√©marre automatiquement
- **Dur√©e** : 60 secondes par d√©faut (configurable)
- **Arr√™t manuel** : `Ctrl+C` pour arr√™t propre
- **Logs temps r√©el** : Visible dans la console

### 4. Interface Interactive (Optionnel)

Pour acc√©der √† l'interface Mininet pendant la simulation :

```bash
# Dans le code, d√©commentez la ligne :
# CLI(net)
```

## üìÅ Structure des Fichiers

```
projet_sdwan/
‚îú‚îÄ‚îÄ ryu_sdwan_controller.py      # Contr√¥leur Ryu intelligent
‚îú‚îÄ‚îÄ sdwan_mininet_simulation.py  # Simulation Mininet avanc√©e
‚îú‚îÄ‚îÄ requirements.txt             # D√©pendances Python
‚îú‚îÄ‚îÄ README.md                   # Cette documentation
‚îú‚îÄ‚îÄ logs/                       # Logs de simulation
‚îÇ   ‚îú‚îÄ‚îÄ sdwan_controller.log    # D√©cisions du contr√¥leur
‚îÇ   ‚îú‚îÄ‚îÄ iperf_*.log            # M√©triques de trafic
‚îú‚îÄ‚îÄ stats/                      # Statistiques JSON
‚îÇ   ‚îî‚îÄ‚îÄ path_statistics.json   # Donn√©es temporelles
‚îî‚îÄ‚îÄ results/                    # R√©sultats d'analyse
    ‚îî‚îÄ‚îÄ graphs/                 # Graphiques g√©n√©r√©s
        ‚îú‚îÄ‚îÄ sdwan_analysis_*.png
        ‚îî‚îÄ‚îÄ timeline_cumulative_*.png
```

## ‚öôÔ∏è Configuration Avanc√©e

### Modification des Poids WAN

Dans `ryu_sdwan_controller.py` :

```python
WAN_PATHS = {
    1: {'weight': 5, 'name': 'MPLS', 'priority': 'high'},     # Plus de trafic
    2: {'weight': 3, 'name': 'Fiber', 'priority': 'medium'},  # Trafic moyen
    3: {'weight': 1, 'name': '4G', 'priority': 'low'}         # Backup
}
```

### Ajustement des Param√®tres de Liens

Dans `sdwan_mininet_simulation.py` :

```python
WAN_CONFIGS = {
    'MPLS': {'bw': 50, 'delay': '2ms', 'loss': 0, 'port': 1},      # Premium
    'Fiber': {'bw': 200, 'delay': '5ms', 'loss': 0.1, 'port': 2},  # Haute BP
    '4G': {'bw': 20, 'delay': '100ms', 'loss': 5, 'port': 3}       # Mobile
}
```

### Personnalisation du Trafic

```python
# Dur√©e de simulation
SIM_DURATION = 120  # 2 minutes

# Nombre d'h√¥tes par succursale
HOSTS_PER_BRANCH = 5  # Plus d'h√¥tes = plus de trafic

# Types de trafic personnalis√©s
TRAFFIC_TYPES = ['web', 'video', 'voip', 'data', 'backup', 'sync']
```

## üìà Interpr√©tation des R√©sultats

### M√©triques d'Efficacit√©

- **Efficacit√© > 90%** : Excellent √©quilibrage
- **Efficacit√© 70-90%** : Bon √©quilibrage  
- **Efficacit√© < 70%** : Ajustements n√©cessaires

### Analyse des Graphiques

1. **Diagramme circulaire** : V√©rifiez que la r√©partition respecte les poids (MPLS ~50%, Fiber ~33%, 4G ~17%)

2. **√âvolution temporelle** : Observez la r√©gularit√© de l'alternance entre chemins

3. **Comparaison r√©el/th√©orique** : Les barres doivent √™tre proches entre r√©el et th√©orique

4. **Timeline cumulative** : Croissance proportionnelle aux poids configur√©s

## üîß D√©pannage

### Probl√®mes Courants

**Erreur "Permission denied"**
```bash
sudo python3 sdwan_mininet_simulation.py
```

**Contr√¥leur non accessible**
```bash
# V√©rifiez que Ryu √©coute sur le bon port
netstat -an | grep 6633
```

**Graphiques non g√©n√©r√©s**
```bash
# V√©rifiez matplotlib
python3 -c "import matplotlib.pyplot as plt; print('OK')"
```

**Manque de donn√©es**
```bash
# Augmentez la dur√©e de simulation
SIM_DURATION = 120
```

### Logs de Debug

Activez le debug dans le contr√¥leur :
```python
logging.basicConfig(level=logging.DEBUG)
```

## üéì Contexte Acad√©mique

### Objectifs P√©dagogiques

- Comprendre les principes SD-WAN vs SDN classique
- Impl√©menter un algorithme d'√©quilibrage de charge
- Analyser les performances de diff√©rents types de liens WAN
- Visualiser l'efficacit√© des d√©cisions de routage
- Ma√Ætriser les outils Mininet et OpenFlow/Ryu

### Crit√®res d'√âvaluation

- **Fonctionnalit√©** : La simulation fonctionne sans erreur
- **R√©alisme** : Les param√®tres de liens sont coh√©rents
- **Intelligence** : L'algorithme respecte les poids configur√©s
- **Visualisation** : Les graphiques sont informatifs et pr√©cis
- **Documentation** : Code comment√© et README complet

# RESULTATS OBTENUS :

## Topologie mininet :
<img src="images/topology.png">

## Gaphiques obtenues  :
<img src="images/resultats.png">

### On constate sur le diagramme a bande que les resultats experimentaux sont assez proches de ceux attendus , la repartition de flux respecte bien les poids fournies , le Round-Robin fonctionne donc correctement 

## üöÄ Extensions Possibles

### Am√©liorations Techniques

1. **QoS Avanc√©e** : Priorit√© par type d'application
2. **D√©tection de pannes** : Basculement automatique en cas de perte de lien
3. **M√©triques en temps r√©el** : Latence et d√©bit mesur√©s dynamiquement
4. **Interface Web** : Dashboard temps r√©el avec Flask/Django
5. **Apprentissage automatique** : Optimisation des poids par IA

### Sc√©narios Avanc√©s

1. **Multi-sites** : 3+ succursales avec routage complexe
2. **Trafic vid√©o** : Simulation de streaming HD/4K
3. **Applications critiques** : SLA et p√©nalit√©s de performance
4. **Cyber-s√©curit√©** : D√©tection d'anomalies de trafic
5. **Mont√©e en charge** : Tests avec 10+ h√¥tes par site

## üìö R√©f√©rences

- [Mininet Documentation](http://mininet.org/walkthrough/)
- [Ryu Controller Guide](https://ryu.readthedocs.io/)
- [OpenFlow Specification](https://opennetworking.org/openflow/)
- [SD-WAN Principles](https://www.cisco.com/c/en/us/solutions/enterprise-networks/sd-wan/)

---

**Projet r√©alis√© dans le cadre d'√©tudes sur l'√©quilibrage de charge dans les r√©seaux SD-WAN**

*Simulation compl√®te avec 6 h√¥tes, 3 chemins WAN, et analyse graphique avanc√©e*